<!DOCTYPE html>
<html>
<head>
  <title> Student Selector / Group Generator</title>
  </head>
<h2>Student Selector / Group Generator</h2>
<body>
Choose between
 <a href="https://studentgroupselector.github.io/StudentSelector/">Student Selector</a>
  and
 <a href="Group.html">Group Generator</a>.
   To Save all names: <a href="save.html">Save Names</a>. To delete all names: <a href="delete.html">Delete</a>.
</body>
  <h3>Group Generator</h3>
  <p>Select Class Period</p>
<select id="period">
  <option value="Period 1">Period 1</option>
  <option value="Period 2">Period 2</option>
  <option value="Period 3">Period 3</option>
  <option value="Period 4">Period 4</option>
  <option value="Period 5">Period 5</option>
  <option value="Period 6">Period 6</option>
  <option value="Period 7">Period 7</option>
  <option value="Period 8">Period 8</option>
</select>
  
   <p>Select Class Number Of Groups</p>
<select id="numgroups">
  <option value="2">Two Groups</option> Which of these do I used
  <option value="3">Three Groups</option>
  <option value="4">Four Groups</option>
  <option value="5">Five Groups</option>
  <option value="6">Six Groups</option>
  <option value="7">Seven Groups</option>
  <option value="8">Eight Groups</option>
  <option value="9">Nine Groups</option>
</select>
  <button onclick="generate()" type="button">Generate Names for Class Period</button>
  <script>
    // https://medium.com/@nitinpatel_20236/how-to-shuffle-correctly-shuffle-an-array-in-javascript-15ea3f84bfb
    function shuffle(orig) {
      let array = orig.slice(0); // clone
      for(let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * i)
        const temp = array[i]
        array[i] = array[j]
        array[j] = temp
      }
      return array;
    }

    function generate(){
      let periods = localStorage.getItem(document.getElementById("period").value);
      let numgroups = document.getElementById("numgroups").value;
      let splitPeriods = periods.split(".").map(person => person.trim()).filter(person => person !== ''); //Gets rid of any blank names
      let shuffledPeriods = shuffle(splitPeriods)
      
      // if (numgroups <1){
      //   numgroups = 1;
      // }

      let finalGroups = [];
      for (let i = 0; i < shuffledPeriods.length; i += shuffledPeriods.length / numgroups) {
        alert(shuffledPeriods)

      function chunk(shuffledPeriods, numgroups) {
        const chunked_arr = [];
        let index = 0;
        while (index < shuffledPeriods.length) {
          chunked_arr.push(shuffledPeriods.slice(index, numgroups + index));
          index += numgroups;
        }
      return chunked_arr;
      } 
      }
      
    }
  </script>
</html>
